<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>REopt Inputs · REopt.jl Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">REopt.jl Documentation</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">REopt</span><ul><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>REopt Inputs</a><ul class="internal"><li><a class="tocitem" href="#Scenario"><span>Scenario</span></a></li><li><a class="tocitem" href="#BAUScenario"><span>BAUScenario</span></a></li><li><a class="tocitem" href="#Site"><span>Site</span></a></li><li><a class="tocitem" href="#ElectricLoad"><span>ElectricLoad</span></a></li><li><a class="tocitem" href="#ElectricTariff"><span>ElectricTariff</span></a></li><li><a class="tocitem" href="#Financial"><span>Financial</span></a></li><li><a class="tocitem" href="#ElectricUtility"><span>ElectricUtility</span></a></li><li><a class="tocitem" href="#PV"><span>PV</span></a></li><li><a class="tocitem" href="#Wind"><span>Wind</span></a></li><li><a class="tocitem" href="#ElectricStorage"><span>ElectricStorage</span></a></li><li><a class="tocitem" href="#Generator"><span>Generator</span></a></li><li><a class="tocitem" href="#Settings"><span>Settings</span></a></li><li><a class="tocitem" href="#ExistingBoiler"><span>ExistingBoiler</span></a></li><li><a class="tocitem" href="#AbsorptionChiller"><span>AbsorptionChiller</span></a></li><li><a class="tocitem" href="#CHP"><span>CHP</span></a></li><li><a class="tocitem" href="#HotStorage"><span>HotStorage</span></a></li><li><a class="tocitem" href="#ColdStorage"><span>ColdStorage</span></a></li><li><a class="tocitem" href="#DomesticHotWaterLoad"><span>DomesticHotWaterLoad</span></a></li><li><a class="tocitem" href="#SpaceHeatingLoad"><span>SpaceHeatingLoad</span></a></li><li><a class="tocitem" href="#FlexibleHVAC"><span>FlexibleHVAC</span></a></li></ul></li><li><a class="tocitem" href="../outputs/">Outputs</a></li><li><a class="tocitem" href="../methods/">Methods</a></li></ul></li><li><span class="tocitem">Model Predictive Control</span><ul><li><a class="tocitem" href="../../mpc/examples/">MPC Examples</a></li><li><a class="tocitem" href="../../mpc/inputs/">MPC Inputs</a></li><li><a class="tocitem" href="../../mpc/methods/">Methods</a></li></ul></li><li><span class="tocitem">Developer</span><ul><li><a class="tocitem" href="../../developer/concept/">Design Concepts for the REopt Module</a></li><li><a class="tocitem" href="../../developer/organization/">File Organization</a></li><li><a class="tocitem" href="../../developer/inputs/">The REoptInputs structure</a></li><li><a class="tocitem" href="../../developer/adding_tech/">Adding a Technology</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">REopt</a></li><li class="is-active"><a href>REopt Inputs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>REopt Inputs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL/REopt.jl/blob/master/docs/src/reopt/inputs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="REopt-Inputs"><a class="docs-heading-anchor" href="#REopt-Inputs">REopt Inputs</a><a id="REopt-Inputs-1"></a><a class="docs-heading-anchor-permalink" href="#REopt-Inputs" title="Permalink"></a></h1><p>Inputs to <code>run_reopt</code> can be provided in one of three formats:</p><ol><li>a file path (string) to a JSON file,</li><li>a <code>Dict</code>, or</li><li>using the <code>REoptInputs</code> struct</li></ol><p>Any one of these types can be passed to the <a href="https://nrel.github.io/REopt/stable/reopt/methods/#run_reopt"><code>run_reopt</code></a> method.</p><p>The first option is perhaps the most straightforward one. For example, the minimum requirements for a JSON scenario file would look like:</p><pre><code class="language-javascript">{
    &quot;Site&quot;: {
        &quot;longitude&quot;: -118.1164613,
        &quot;latitude&quot;: 34.5794343
    },
    &quot;ElectricLoad&quot;: {
        &quot;doe_reference_name&quot;: &quot;MidriseApartment&quot;,
        &quot;annual_kwh&quot;: 1000000.0
    },
    &quot;ElectricTariff&quot;: {
        &quot;urdb_label&quot;: &quot;5ed6c1a15457a3367add15ae&quot;
    }
}</code></pre><p>The order of the keys do not matter. Note that this scenario does not include any energy generation technologies and therefore the results can be used as a baseline for comparison to scenarios that result in cost-optimal generation technologies.</p><p>To add PV to the analysis simply add a PV key with an empty dictionary (to use default values):</p><pre><code class="language-javascript">{
    &quot;Site&quot;: {
        &quot;longitude&quot;: -118.1164613,
        &quot;latitude&quot;: 34.5794343
    },
    &quot;ElectricLoad&quot;: {
        &quot;doe_reference_name&quot;: &quot;MidriseApartment&quot;,
        &quot;annual_kwh&quot;: 1000000.0
    },
    &quot;ElectricTariff&quot;: {
        &quot;urdb_label&quot;: &quot;5ed6c1a15457a3367add15ae&quot;
    },
    &quot;PV&quot;: {}
}</code></pre><p>This scenario will consider the option to purchase a solar PV system to reduce energy costs, and if solar PV can reduce the energy costs then REopt will provide the optimal PV capacity (assuming perfect foresight!). To use other than default values for <code>PV</code> see the <a href="https://github.com/NREL/REopt/blob/master/src/core/pv.jl">PV struct definition</a>.  For example, the site under consideration might have some existing PV capacity to account for, which can be done by setting the <code>existing_kw</code> key to the appropriate value.</p><h2 id="Scenario"><a class="docs-heading-anchor" href="#Scenario">Scenario</a><a id="Scenario-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario" title="Permalink"></a></h2><p>The <code>Scenario</code> struct captures all of the objects that can be included in a scenario.json:</p><article class="docstring"><header><a class="docstring-binding" id="REopt.Scenario" href="#REopt.Scenario"><code>REopt.Scenario</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Scenario(d::Dict; flex_hvac_from_json=false)</code></pre><p>Constructor for Scenario struct, where <code>d</code> has upper-case keys:</p><ul><li><a href="#Site">Site</a> (required)</li><li><a href="#ElectricTariff">ElectricTariff</a> (required)</li><li><a href="#ElectricLoad">ElectricLoad</a> (required)</li><li><a href="#PV">PV</a> (optional, can be Array)</li><li><a href="#Wind">Wind</a> (optional)</li><li><a href="#ElectricStorage">ElectricStorage</a> (optional)</li><li><a href="#ElectricUtility">ElectricUtility</a> (optional)</li><li><a href="#Financial">Financial</a> (optional)</li><li><a href="#Generator">Generator</a> (optional)</li><li><a href="#DomesticHotWaterLoad">DomesticHotWaterLoad</a> (optional)</li><li><a href="#SpaceHeatingLoad">SpaceHeatingLoad</a> (optional)</li><li><a href="#ExistingBoiler">ExistingBoiler</a> (optional)</li><li><a href="#CHP">CHP</a> (optional)</li><li>FlexibleHVAC (optional)</li><li>ExistingChiller (optional)</li><li>AbsorptionChiller (optional)</li></ul><p>All values of <code>d</code> are expected to be <code>Dicts</code> except for <code>PV</code>, which can be either a <code>Dict</code> or <code>Dict[]</code>.</p><p>Set <code>flex_hvac_from_json=true</code> if <code>FlexibleHVAC</code> values were loaded in from JSON (necessary to  handle conversion of Vector of Vectors from JSON to a Matrix in Julia).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/scenario.jl#L51-L76">source</a></section><section><div><pre><code class="language-none">Scenario(fp::String)</code></pre><p>Consruct Scenario from filepath <code>fp</code> to JSON with keys aligned with the <code>Scenario(d::Dict)</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/scenario.jl#L336-L340">source</a></section></article><h2 id="BAUScenario"><a class="docs-heading-anchor" href="#BAUScenario">BAUScenario</a><a id="BAUScenario-1"></a><a class="docs-heading-anchor-permalink" href="#BAUScenario" title="Permalink"></a></h2><p>The <code>BAUScenario</code> struct is for running Business-As-Usual scenarios, i.e. without any new technologies. The results of the BAU scenario are used to calculate other <code>Financial</code> results such as the net present value.</p><article class="docstring"><header><a class="docstring-binding" id="REopt.BAUScenario" href="#REopt.BAUScenario"><code>REopt.BAUScenario</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BAUScenario(s::Scenario)</code></pre><p>Constructor for BAUScenario (BAU = Business As Usual) struct.</p><ul><li>sets the PV and Generator max<em>kw values to the existing</em>kw values</li><li>sets wind and storage max_kw values to zero</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/bau_scenario.jl#L85-L91">source</a></section></article><h2 id="Site"><a class="docs-heading-anchor" href="#Site">Site</a><a id="Site-1"></a><a class="docs-heading-anchor-permalink" href="#Site" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.Site" href="#REopt.Site"><code>REopt.Site</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Site</code></pre><p>Inputs related to the physical location:</p><pre><code class="language-julia">function Site(;
    latitude::Real, 
    longitude::Real, 
    land_acres::Union{Float64, Nothing} = nothing, 
    roof_squarefeet::Union{Float64, Nothing} = nothing,
    min_resil_timesteps::Int=0,
    mg_tech_sizes_equal_grid_sizes::Bool = true,
    node::Int = 1, 
    )</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/site.jl#L30-L46">source</a></section></article><h2 id="ElectricLoad"><a class="docs-heading-anchor" href="#ElectricLoad">ElectricLoad</a><a id="ElectricLoad-1"></a><a class="docs-heading-anchor-permalink" href="#ElectricLoad" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ElectricLoad" href="#REopt.ElectricLoad"><code>REopt.ElectricLoad</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ElectricLoad(;
    loads_kw::Array{&lt;:Real,1} = Real[],
    path_to_csv::String = &quot;&quot;,
    year::Int = 2020,
    doe_reference_name::String = &quot;&quot;,
    blended_doe_reference_names::Array{String, 1} = String[],
    blended_doe_reference_percents::Array{&lt;:Real,1} = Real[],
    city::String = &quot;&quot;,
    annual_kwh::Union{Real, Nothing} = nothing,
    monthly_totals_kwh::Array{&lt;:Real,1} = Real[],
    critical_loads_kw::Union{Missing, Array{Real,1}} = missing,
    loads_kw_is_net::Bool = true,
    critical_loads_kw_is_net::Bool = false,
    critical_load_pct::Real = 0.5,
    time_steps_per_hour::Int = 1
)</code></pre><p>Must provide either <code>loads_kw</code> or <code>path_to_csv</code> or [<code>doe_reference_name</code> and <code>city</code>] or <code>doe_reference_name</code> or [<code>blended_doe_reference_names</code> and <code>blended_doe_reference_percents</code>]. </p><p>When only <code>doe_reference_name</code> is provided the <code>Site.latitude</code> and <code>Site.longitude</code> are used to look up the ASHRAE climate zone, which determines the appropriate DoE Commercial Reference Building profile.</p><p>When using the [<code>doe_reference_name</code> and <code>city</code>] option, choose <code>city</code> from one of the  cities used to represent the ASHRAE climate zones:</p><ul><li>Albuquerque</li><li>Atlanta</li><li>Baltimore</li><li>Boulder</li><li>Chicago</li><li>Duluth</li><li>Fairbanks</li><li>Helena</li><li>Houston</li><li>LosAngeles</li><li>Miami</li><li>Minneapolis</li><li>Phoenix</li><li>SanFrancisco</li><li>Seattle</li></ul><p>and <code>doe_reference_name</code> from:</p><ul><li>FastFoodRest</li><li>FullServiceRest</li><li>Hospital</li><li>LargeHotel</li><li>LargeOffice</li><li>MediumOffice</li><li>MidriseApartment</li><li>Outpatient</li><li>PrimarySchool</li><li>RetailStore</li><li>SecondarySchool</li><li>SmallHotel</li><li>SmallOffice</li><li>StripMall</li><li>Supermarket</li><li>Warehouse</li><li>FlatLoad</li></ul><p>Each <code>city</code> and <code>doe_reference_name</code> combination has a default <code>annual_kwh</code>, or you can provide your own <code>annual_kwh</code> or <code>monthly_totals_kwh</code> and the reference profile will be scaled appropriately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/electric_load.jl#L30-L90">source</a></section></article><h2 id="ElectricTariff"><a class="docs-heading-anchor" href="#ElectricTariff">ElectricTariff</a><a id="ElectricTariff-1"></a><a class="docs-heading-anchor-permalink" href="#ElectricTariff" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ElectricTariff" href="#REopt.ElectricTariff"><code>REopt.ElectricTariff</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct ElectricTariff</code></pre><ul><li>data for electric tariff in reopt model</li><li>can be defined using custom rates or URDB rate</li><li>very similar to the URDB struct but includes export rates and bins</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/electric_tariff.jl#L30-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="REopt.ElectricTariff-Tuple{}" href="#REopt.ElectricTariff-Tuple{}"><code>REopt.ElectricTariff</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ElectricTariff</code></pre><p>ElectricTariff constructor</p><pre><code class="language-julia">function ElectricTariff(;
    urdb_label::String=&quot;&quot;,
    urdb_response::Dict=Dict(),
    urdb_utility_name::String=&quot;&quot;,
    urdb_rate_name::String=&quot;&quot;,
    year::Int=2020,
    time_steps_per_hour::Int=1,
    NEM::Bool=false,
    wholesale_rate::T1=nothing,
    export_rate_beyond_net_metering_limit::T2=nothing,
    monthly_energy_rates::Array=[],
    monthly_demand_rates::Array=[],
    blended_annual_energy_rate::S=nothing,
    blended_annual_demand_rate::R=nothing,
    add_monthly_rates_to_urdb_rate::Bool=false,
    tou_energy_rates_per_kwh::Array=[],
    add_tou_energy_rates_to_urdb_rate::Bool=false,
    remove_tiers::Bool=false,
    demand_lookback_months::AbstractArray{Int64, 1}=Int64[],
    demand_lookback_percent::Float64=0.0,
    demand_lookback_range::Int=0,
    coincident_peak_load_active_timesteps::Vector{Vector{Int64}}=[Int64[]],
    coincident_peak_load_charge_per_kw::AbstractVector{&lt;:Real}=Real[]
    ) where {
        T1 &lt;: Union{Nothing, Int, Float64, Array}, 
        T2 &lt;: Union{Nothing, Int, Float64, Array}, 
        S &lt;: Union{Nothing, Int, Float64}, 
        R &lt;: Union{Nothing, Int, Float64}
    }</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>NEM</code> boolean is determined by the ElectricUtility.net<em>metering</em>limit_kw. There is no need to pass in a <code>NEM</code> value.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/electric_tariff.jl#L69-L109">source</a></section></article><h2 id="Financial"><a class="docs-heading-anchor" href="#Financial">Financial</a><a id="Financial-1"></a><a class="docs-heading-anchor-permalink" href="#Financial" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.Financial" href="#REopt.Financial"><code>REopt.Financial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Financial</code></pre><p>Financial data struct with inner constructor:</p><pre><code class="language-julia">function Financial(;
    om_cost_escalation_pct::Float64 = 0.025,
    elec_cost_escalation_pct::Float64 = 0.019,
    boiler_fuel_cost_escalation_pct::Float64 = 0.034,
    chp_fuel_cost_escalation_pct::Float64 = 0.034,
    offtaker_tax_pct::Float64 = 0.26,
    offtaker_discount_pct = 0.0564,
    third_party_ownership::Bool = false,
    owner_tax_pct::Float64 = 0.26,
    owner_discount_pct::Float64 = 0.0564,
    analysis_years::Int = 25,
    value_of_lost_load_per_kwh::Union{Array{R,1}, R} where R&lt;:Real = 1.00,
    microgrid_upgrade_cost_pct::Float64 = 0.3,
    macrs_five_year::Array{Float64,1} = [0.2, 0.32, 0.192, 0.1152, 0.1152, 0.0576],  # IRS pub 946
    macrs_seven_year::Array{Float64,1} = [0.1429, 0.2449, 0.1749, 0.1249, 0.0893, 0.0892, 0.0893, 0.0446]
)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>When <code>third_party_ownership</code> is <code>false</code> the offtaker&#39;s discount and tax percentages are used throughout the model:</p><pre><code class="language-julia">    if !third_party_ownership
        owner_tax_pct = offtaker_tax_pct
        owner_discount_pct = offtaker_discount_pct
    end</code></pre></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/financial.jl#L30-L61">source</a></section></article><h2 id="ElectricUtility"><a class="docs-heading-anchor" href="#ElectricUtility">ElectricUtility</a><a id="ElectricUtility-1"></a><a class="docs-heading-anchor-permalink" href="#ElectricUtility" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ElectricUtility" href="#REopt.ElectricUtility"><code>REopt.ElectricUtility</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ElectricUtility

Base.@kwdef struct ElectricUtility
    outage_start_time_step::Int=0  # for modeling a single outage, with critical load spliced into the baseline load ...
    outage_end_time_step::Int=0  # ... utiltity production_factor = 0 during the outage
    allow_simultaneous_export_import::Bool=true  # if true the site has two meters (in effect)
    # variables below used for minimax the expected outage cost,
    # with max taken over outage start time, expectation taken over outage duration
    outage_start_timesteps::Array{Int,1}=Int[]  # we minimize the maximum outage cost over outage start times
    outage_durations::Array{Int,1}=Int[]  # one-to-one with outage_probabilities, outage_durations can be a random variable
    outage_probabilities::Array{Real,1}=[1.0]
    outage_timesteps::Union{Missing, UnitRange} = isempty(outage_durations) ? missing : 1:maximum(outage_durations)
    scenarios::Union{Missing, UnitRange} = isempty(outage_durations) ? missing : 1:length(outage_durations)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/electric_utility.jl#L30-L46">source</a></section></article><h2 id="PV"><a class="docs-heading-anchor" href="#PV">PV</a><a id="PV-1"></a><a class="docs-heading-anchor-permalink" href="#PV" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.PV" href="#REopt.PV"><code>REopt.PV</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PV</code></pre><p>struct with inner constructor:</p><pre><code class="language-julia">function PV(;
    tilt::Real,
    array_type::Int=1,
    module_type::Int=0,
    losses::Real=0.14,
    azimuth::Real=180,
    gcr::Real=0.4,
    radius::Int=0,
    name::String=&quot;PV&quot;,
    location::String=&quot;both&quot;,
    existing_kw::Real=0,
    min_kw::Real=0,
    max_kw::Real=1.0e9,
    installed_cost_per_kw::Real=1592.0,
    om_cost_per_kw::Real=17.0,
    degradation_pct::Real=0.005,
    macrs_option_years::Int = 5,
    macrs_bonus_pct::Float64 = 1.0,
    macrs_itc_reduction::Float64 = 0.5,
    kw_per_square_foot::Float64=0.01,
    acres_per_kw::Float64=6e-3,
    inv_eff::Float64=0.96,
    dc_ac_ratio::Float64=1.2,
    prod_factor_series::Union{Missing, Array{Real,1}} = missing,
    federal_itc_pct::Float64 = 0.26,
    federal_rebate_per_kw::Float64 = 0.0,
    state_ibi_pct::Float64 = 0.0,
    state_ibi_max::Float64 = 1.0e10,
    state_rebate_per_kw::Float64 = 0.0,
    state_rebate_max::Float64 = 1.0e10,
    utility_ibi_pct::Float64 = 0.0,
    utility_ibi_max::Float64 = 1.0e10,
    utility_rebate_per_kw::Float64 = 0.0,
    utility_rebate_max::Float64 = 1.0e10,
    production_incentive_per_kwh::Float64 = 0.0,
    production_incentive_max_benefit::Float64 = 1.0e9,
    production_incentive_years::Int = 1,
    production_incentive_max_kw::Float64 = 1.0e9
    can_net_meter::Bool = true,
    can_wholesale::Bool = true,
    can_export_beyond_nem_limit::Bool = true
)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If <code>tilt</code> is not provided then it is set to the <code>Site.latitude</code>. (Which is handled in the <code>Scenario</code> struct.)</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/pv.jl#L30-L80">source</a></section></article><h2 id="Wind"><a class="docs-heading-anchor" href="#Wind">Wind</a><a id="Wind-1"></a><a class="docs-heading-anchor-permalink" href="#Wind" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.Wind" href="#REopt.Wind"><code>REopt.Wind</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Wind</code></pre><p>struct with inner constructor:</p><pre><code class="language-julia">function Wind(;
    min_kw = 0.0,
    max_kw = 1.0e9,
    installed_cost_per_kw = 0.0,
    om_cost_per_kw = 35.0,
    prod_factor_series = missing,
    size_class = &quot;&quot;,
    wind_meters_per_sec = [],
    wind_direction_degrees = [],
    temperature_celsius = [],
    pressure_atmospheres = [],
    macrs_option_years = 5,
    macrs_bonus_pct = 0.0,
    macrs_itc_reduction = 0.5,
    federal_itc_pct = 0.26,
    federal_rebate_per_kw = 0.0,
    state_ibi_pct = 0.0,
    state_ibi_max = 1.0e10,
    state_rebate_per_kw = 0.0,
    state_rebate_max = 1.0e10,
    utility_ibi_pct = 0.0,
    utility_ibi_max = 1.0e10,
    utility_rebate_per_kw = 0.0,
    utility_rebate_max = 1.0e10,
    production_incentive_per_kwh = 0.0,
    production_incentive_max_benefit = 1.0e9,
    production_incentive_years = 1,
    production_incentive_max_kw = 1.0e9,
    can_net_meter = true,
    can_wholesale = true,
    can_export_beyond_nem_limit = true
)</code></pre><p><code>size_class</code> must be one of [&quot;residential&quot;, &quot;commercial&quot;, &quot;medium&quot;, &quot;large&quot;]. If <code>size_class</code> is not provided then it is determined based on the average electric load.</p><p>If no <code>installed_cost_per_kw</code> is provided (or it is 0.0) then it is determined from:</p><pre><code class="language-julia">size_class_to_installed_cost = Dict(
    &quot;residential&quot;=&gt; 11950.0,
    &quot;commercial&quot;=&gt; 7390.0,
    &quot;medium&quot;=&gt; 4440.0,
    &quot;large&quot;=&gt; 3450.0
)</code></pre><p>The Federal Investment Tax Credit is adjusted based on the <code>size_class</code> as follows (if the default of 0.3 is not changed):</p><pre><code class="language-julia">size_class_to_itc_incentives = Dict(
    &quot;residential&quot;=&gt; 0.3,
    &quot;commercial&quot;=&gt; 0.3,
    &quot;medium&quot;=&gt; 0.12,
    &quot;large&quot;=&gt; 0.12
)</code></pre><p>If the <code>prod_factor_series</code> is not provided then NREL&#39;s System Advisor Model (SAM) is used to get the wind turbine  production factor.</p><p>Wind resource values are optional, i.e. (<code>wind_meters_per_sec</code>, <code>wind_direction_degrees</code>, <code>temperature_celsius</code>, and <code>pressure_atmospheres</code>). If not provided then the resource values are downloaded from NREL&#39;s Wind Toolkit. These values are passed to SAM to get the turbine production factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/wind.jl#L30-L100">source</a></section></article><h2 id="ElectricStorage"><a class="docs-heading-anchor" href="#ElectricStorage">ElectricStorage</a><a id="ElectricStorage-1"></a><a class="docs-heading-anchor-permalink" href="#ElectricStorage" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ElectricStorageDefaults" href="#REopt.ElectricStorageDefaults"><code>REopt.ElectricStorageDefaults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ElectricStorageDefaults</code></pre><p>Electric storage system defaults. Overridden by user inputs provided in <code>ElectricStorage</code>.</p><pre><code class="language-julia">Base.@kwdef struct ElectricStorageDefaults
    min_kw::Float64 = 0.0
    max_kw::Float64 = 1.0e4
    min_kwh::Float64 = 0.0
    max_kwh::Float64 = 1.0e6
    internal_efficiency_pct::Float64 = 0.975
    inverter_efficiency_pct::Float64 = 0.96
    rectifier_efficiency_pct::Float64 = 0.96
    soc_min_pct::Float64 = 0.2
    soc_init_pct::Float64 = 0.5
    can_grid_charge::Bool = true
    installed_cost_per_kw::Float64 = 775.0
    installed_cost_per_kwh::Float64 = 388.0
    replace_cost_per_kw::Float64 = 440.0
    replace_cost_per_kwh::Float64 = 220.0
    inverter_replacement_year::Int = 10
    battery_replacement_year::Int = 10
    macrs_option_years::Int = 7
    macrs_bonus_pct::Float64 = 1.0
    macrs_itc_reduction::Float64 = 0.5
    total_itc_pct::Float64 = 0.0
    total_rebate_per_kw::Float64 = 0.0
    total_rebate_per_kwh::Float64 = 0.0
    charge_efficiency::Float64 = rectifier_efficiency_pct * internal_efficiency_pct^0.5
    discharge_efficiency::Float64 = inverter_efficiency_pct * internal_efficiency_pct^0.5
    grid_charge_efficiency::Float64 = can_grid_charge ? charge_efficiency : 0.0
    model_degradation::Bool = false
    degradation::Dict = Dict()
    minimum_avg_soc_fraction::Float64 = 0.0
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/energy_storage/electric_storage.jl#L161-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="REopt.Degradation" href="#REopt.Degradation"><code>REopt.Degradation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Degradation</code></pre><p>Inputs used when <code>ElectricStorage.model_degradation</code> is <code>true</code>:</p><pre><code class="language-julia">Base.@kwdef mutable struct Degradation
    calendar_fade_coefficient::Float64 = 2.46E-03
    cycle_fade_coefficient::Float64 = 7.82E-05
    installed_cost_per_kwh_declination_rate::Float64 = 0.05
    maintenance_strategy::String = &quot;augmentation&quot;  # one of [&quot;augmentation&quot;, &quot;replacement&quot;]
    maintenance_cost_per_kwh::Vector{&lt;:Real} = Real[]
end</code></pre><p>None of the above values are required. If <code>ElectricStorage.model_degradation</code> is <code>true</code> then the  defaults above are used. If the <code>maintenance_cost_per_kwh</code> is not provided then it is determined using the <code>ElectricStorage.installed_cost_per_kwh</code> and the <code>installed_cost_per_kwh_declination_rate</code> along with a present worth factor <span>$f$</span> to account for the present cost of buying a battery in the future. The present worth factor for each day is:</p><p><span>$f(day) = \frac{ (1-r_g)^\frac{day}{365} } { (1+r_d)^\frac{day}{365} }$</span></p><p>where <span>$r_g$</span> = <code>installed_cost_per_kwh_declination_rate</code> and <span>$r_d$</span> = <code>p.s.financial.owner_discount_pct</code>.</p><p>Note this day-specific calculation of the present-worth factor accumulates differently from the annually updated discount rate for other net-present value calculations in REopt, and has a higher effective discount rate as a result.  The present  worth factor is used in two different ways, depending on the <code>maintenance_strategy</code>, which is described below.</p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>When modeling degradation the following ElectricStorage inputs are not used:</p><ul><li><code>replace_cost_per_kw</code></li><li><code>replace_cost_per_kwh</code></li><li><code>inverter_replacement_year</code></li><li><code>battery_replacement_year</code></li></ul><p>The are replaced by the <code>maintenance_cost_per_kwh</code> vector.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>When providing the <code>maintenance_cost_per_kwh</code> it must have a length equal to <code>Financial.analysis_years*365</code>.</p></div></div><p><strong>Battery State Of Health</strong></p><p>The state of health [<code>SOH</code>] is a linear function of the daily average state of charge [<code>Eavg</code>] and the daily equivalent full cycles [<code>EFC</code>]. The initial <code>SOH</code> is set to the optimal battery energy capacity  (in kWh). The evolution of the <code>SOH</code> beyond the first day is:</p><p><span>$SOH[d] = SOH[d-1] - h\left(     \frac{1}{2} k_{cal} Eavg[d-1] / \sqrt{d} + k_{cyc} EFC[d-1] \quad \forall d \in \{2\dots D\} \right)$</span></p><p>where:</p><ul><li><span>$k_{cal}$</span> is the <code>calendar_fade_coefficient</code></li><li><span>$k_{cyc}$</span> is the <code>cycle_fade_coefficient</code></li><li><span>$h$</span> is the hours per time step</li><li><span>$D$</span> is the total number of days, 365 * <code>analysis_years</code></li></ul><p>The <code>SOH</code> is used to determine the maintence cost of the storage system, which depends on the <code>maintenance_strategy</code>.</p><p><strong>Augmentation Maintenance Strategy</strong></p><p>The augmentation maintenance strategy assumes that the battery energy capacity is maintained by replacing degraded cells daily in terms of cost. Using the definition of the <code>SOH</code> above the maintenance cost is:</p><p><span>$C_{\text{aug}} = \sum_{d \in \{2\dots D\}} 0.8 C_{\text{install}} f(day) \left( SOH[d-1] - SOH[d] \right)$</span></p><p>where</p><ul><li>the <span>$0.8$</span> factor accounts for sunk costs that do not need to be paid;</li><li><span>$C_{\text{install}}$</span> is the <code>ElectricStorage.installed_cost_per_kwh</code>; and</li><li><span>$SOH[d-1] - SOH[d]$</span> is the incremental amount of battery capacity lost in a day.</li></ul><p>The <span>$C_{\text{aug}}$</span> is added to the objective function to be minimized with all other costs.</p><p><strong>Replacement Maintenance Strategy</strong></p><p>Modeling the replacement maintenance strategy is more complex than the augmentation strategy. Effectively the replacement strategy says that the battery has to be replaced once the <code>SOH</code> hits 80% of the optimal, purchased capacity. It is possible that multiple replacements could be required under this strategy.</p><div class="admonition is-category-warn"><header class="admonition-header">Warn</header><div class="admonition-body"><p>The &quot;replacement&quot; maintenance strategy requires integer variables and indicator constraints. Not all solvers support indicator constraints and some solvers are slow with integer variables.</p></div></div><p>The replacement strategy cost is:</p><p><span>$C_{\text{repl}} = B_{\text{kWh}} N_{\text{repl}} f(d_{80}) C_{\text{install}}$</span></p><p>where:</p><ul><li><span>$B_{\text{kWh}}$</span> is the optimal battery capacity (<code>ElectricStorage.size_kwh</code> in the results dictionary);</li><li><span>$N_{\text{repl}}$</span> is the number of battery replacments required (a function of the month in which the <code>SOH</code> reaches 80% of original capacity);</li><li><span>$f(d_{80})$</span> is the present worth factor at approximately the 15th day of the month that the <code>SOH</code> reaches 80% of original capacity.</li></ul><p>The <span>$C_{\text{repl}}$</span> is added to the objective function to be minimized with all other costs.</p><p><strong>Example of inputs</strong></p><p>The following shows how one would use the degradation model in REopt via the <a href="#Scenario">Scenario</a> inputs:</p><pre><code class="language-javascript">{
    ...
    &quot;ElectricStorage&quot;: {
        &quot;installed_cost_per_kwh&quot;: 390,
        ...
        &quot;model_degradation&quot;: true,
        &quot;degradation&quot;: {
            &quot;calendar_fade_coefficient&quot;: 2.86E-03,
            &quot;cycle_fade_coefficient&quot;: 6.22E-05,
            &quot;installed_cost_per_kwh_declination_rate&quot;: 0.06,
            &quot;maintenance_strategy&quot;: &quot;replacement&quot;,
            ...
        }
    },
    ...
}</code></pre><p>Note that not all of the above inputs are necessary. When not providing <code>calendar_fade_coefficient</code> for example the default value will be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/energy_storage/electric_storage.jl#L30-L151">source</a></section></article><h2 id="Generator"><a class="docs-heading-anchor" href="#Generator">Generator</a><a id="Generator-1"></a><a class="docs-heading-anchor-permalink" href="#Generator" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.Generator" href="#REopt.Generator"><code>REopt.Generator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Generator</code></pre><p>struct with inner constructor:</p><pre><code class="language-julia">function Generator(;
    existing_kw::Real=0,
    min_kw::Real=0,
    max_kw::Real=1.0e6,
    installed_cost_per_kw::Real=500.0,
    om_cost_per_kw::Real=10.0,
    om_cost_per_kwh::Float64=0.0,
    fuel_cost_per_gallon::Float64 = 3.0,
    fuel_slope_gal_per_kwh::Float64 = 0.076,
    fuel_intercept_gal_per_hr::Float64 = 0.0,
    fuel_avail_gal::Float64 = 660.0,
    min_turn_down_pct::Float64 = 0.0,
    only_runs_during_grid_outage::Bool = true,
    sells_energy_back_to_grid::Bool = false,
    can_net_meter::Bool = false,
    can_wholesale::Bool = false,
    can_export_beyond_nem_limit = false,
    macrs_option_years::Int = 0,
    macrs_bonus_pct::Float64 = 1.0,
    macrs_itc_reduction::Float64 = 0.0,
    federal_itc_pct::Float64 = 0.0,
    federal_rebate_per_kw::Float64 = 0.0,
    state_ibi_pct::Float64 = 0.0,
    state_ibi_max::Float64 = 1.0e10,
    state_rebate_per_kw::Float64 = 0.0,
    state_rebate_max::Float64 = 1.0e10,
    utility_ibi_pct::Float64 = 0.0,
    utility_ibi_max::Float64 = 1.0e10,
    utility_rebate_per_kw::Float64 = 0.0,
    utility_rebate_max::Float64 = 1.0e10,
    production_incentive_per_kwh::Float64 = 0.0,
    production_incentive_max_benefit::Float64 = 1.0e9,
    production_incentive_years::Int = 0,
    production_incentive_max_kw::Float64 = 1.0e9,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/generator.jl#L30-L71">source</a></section></article><h2 id="Settings"><a class="docs-heading-anchor" href="#Settings">Settings</a><a id="Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Settings" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.Settings" href="#REopt.Settings"><code>REopt.Settings</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Settings</code></pre><p>Data struct for top-level Scenario settings. Captures inputs that do not logically fall under any of the other data structs.</p><pre><code class="language-none">Base.@kwdef struct Settings
    time_steps_per_hour::Int = 1
    run_bau::Bool = true
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/settings.jl#L30-L40">source</a></section></article><h2 id="ExistingBoiler"><a class="docs-heading-anchor" href="#ExistingBoiler">ExistingBoiler</a><a id="ExistingBoiler-1"></a><a class="docs-heading-anchor-permalink" href="#ExistingBoiler" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ExistingBoiler" href="#REopt.ExistingBoiler"><code>REopt.ExistingBoiler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ExistingBoiler</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>ExistingBoiler</code> default operating cost is zero. Please provide the <code>fuel_cost_per_mmbtu</code> field for the <code>ExistingBoiler</code> if you want non-zero BAU heating costs. The <code>fuel_cost_per_mmbtu</code> can be a scalar, a list of 12 monthly values, or a time series of values for every time step. ExistingBoiler</p></div></div><pre><code class="language-julia">function ExistingBoiler(;
    max_heat_demand_kw::Real=0,
    production_type::String = &quot;hot_water&quot;,
    chp_prime_mover::String = &quot;&quot;,
    max_thermal_factor_on_peak_load::Real = 1.25,
    efficiency::Real = 0.0,
    fuel_cost_per_mmbtu::Union{&lt;:Real, AbstractVector{&lt;:Real}} = 0.0,
    time_steps_per_hour::Int = 1
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/existing_boiler.jl#L38-L58">source</a></section></article><h2 id="AbsorptionChiller"><a class="docs-heading-anchor" href="#AbsorptionChiller">AbsorptionChiller</a><a id="AbsorptionChiller-1"></a><a class="docs-heading-anchor-permalink" href="#AbsorptionChiller" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.AbsorptionChiller" href="#REopt.AbsorptionChiller"><code>REopt.AbsorptionChiller</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AbsorptionChiller</code></pre><p>struct with inner constructor:</p><pre><code class="language-julia">function AbsorptionChiller(;
    min_ton::Real = 0.0,
    max_ton::Real = 0.0,
    chiller_cop::Real,
    chiller_elec_cop::Real = 14.1,
    installed_cost_per_ton::Real,
    om_cost_per_ton::Real,
    macrs_option_years::Real = 0,
    macrs_bonus_pct::Real = 0
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/absorption_chiller.jl#L31-L47">source</a></section></article><h2 id="CHP"><a class="docs-heading-anchor" href="#CHP">CHP</a><a id="CHP-1"></a><a class="docs-heading-anchor-permalink" href="#CHP" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.CHP" href="#REopt.CHP"><code>REopt.CHP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">CHP</code></pre><p>struct with outer constructor:</p><pre><code class="language-julia">prime_mover::String = &quot;&quot;
# following must be provided by user if not providing prime_mover
installed_cost_per_kw::Union{Float64, AbstractVector{Float64}} = NaN
tech_sizes_for_cost_curve::Union{Float64, AbstractVector{Float64}} = NaN
om_cost_per_kwh::Float64 = NaN
elec_effic_half_load = NaN
elec_effic_full_load::Float64 = NaN
min_turn_down_pct::Float64 = NaN
thermal_effic_full_load::Float64 = NaN
thermal_effic_half_load::Float64 = NaN
min_allowable_kw::Float64 = NaN
max_kw::Float64 = NaN
cooling_thermal_factor::Float64 = NaN  # only needed with cooling load
unavailability_periods::AbstractVector{Dict} = Dict[]

size_class::Int = 1
min_kw::Float64 = 0.0
fuel_cost_per_mmbtu::Union{&lt;:Real, AbstractVector{&lt;:Real}} = 0.0,
om_cost_per_kw::Float64 = 0.0
om_cost_per_hr_per_kw_rated::Float64 = 0.0
supplementary_firing_capital_cost_per_kw::Float64 = 150.0
supplementary_firing_max_steam_ratio::Float64 = 1.0
supplementary_firing_efficiency::Float64 = 0.92
standby_rate_us_dollars_per_kw_per_month = 0.0
reduces_demand_charges = true
use_default_derate::Bool = true
max_derate_factor::Float64 = 1.0
derate_start_temp_degF::Float64 = 0.0
derate_slope_pct_per_degF::Float64 = 0.0
can_supply_steam_turbine::Bool=false

macrs_option_years::Int = 5
macrs_bonus_pct::Float64 = 1.0
macrs_itc_reduction::Float64 = 0.5
federal_itc_pct::Float64 = 0.1
federal_rebate_per_kw::Float64 = 0.0
state_ibi_pct::Float64 = 0.0
state_ibi_max::Float64 = 1.0e10
state_rebate_per_kw::Float64 = 0.0
state_rebate_max::Float64 = 1.0e10
utility_ibi_pct::Float64 = 0.0
utility_ibi_max::Float64 = 1.0e10
utility_rebate_per_kw::Float64 = 0.0
utility_rebate_max::Float64 = 1.0e10
production_incentive_per_kwh::Float64 = 0.0
production_incentive_max_benefit::Float64 = 1.0e9
production_incentive_years::Int = 0
production_incentive_max_kw::Float64 = 1.0e9
can_net_meter::Bool = false
can_wholesale::Bool = false
can_export_beyond_nem_limit::Bool = false
can_curtail::Bool = false
# emissions_factor_lb_CO2_per_mmbtu::Float64</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/chp.jl#L33-L92">source</a></section></article><h2 id="HotStorage"><a class="docs-heading-anchor" href="#HotStorage">HotStorage</a><a id="HotStorage-1"></a><a class="docs-heading-anchor-permalink" href="#HotStorage" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.HotThermalStorageDefaults" href="#REopt.HotThermalStorageDefaults"><code>REopt.HotThermalStorageDefaults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">HotThermalStorageDefaults</code></pre><pre><code class="language-julia">Base.@kwdef struct HotThermalStorageDefaults &lt;: AbstractThermalStorageDefaults
    min_gal::Float64 = 0.0
    max_gal::Float64 = 0.0
    hot_water_temp_degF::Float64 = 180.0
    cool_water_temp_degF::Float64 = 160.0
    internal_efficiency_pct::Float64 = 0.999999
    soc_min_pct::Float64 = 0.1
    soc_init_pct::Float64 = 0.5
    installed_cost_per_gal::Float64 = 1.50
    thermal_decay_rate_fraction::Float64 = 0.0004
    om_cost_per_gal::Float64 = 0.0
    macrs_option_years::Int = 0
    macrs_bonus_pct::Float64 = 0.0
    macrs_itc_reduction::Float64 = 0.0
    total_itc_pct::Float64 = 0.0
    total_rebate_per_kwh::Float64 = 0.0
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/energy_storage/thermal_storage.jl#L77-L99">source</a></section></article><h2 id="ColdStorage"><a class="docs-heading-anchor" href="#ColdStorage">ColdStorage</a><a id="ColdStorage-1"></a><a class="docs-heading-anchor-permalink" href="#ColdStorage" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.ColdThermalStorageDefaults" href="#REopt.ColdThermalStorageDefaults"><code>REopt.ColdThermalStorageDefaults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ColdThermalStorageDefaults

Cold thermal energy storage sytem; specifically, a chilled water system used to 
meet thermal cooling loads.</code></pre><pre><code class="language-julia">Base.@kwdef struct ColdThermalStorageDefaults &lt;: AbstractThermalStorageDefaults
    min_gal::Float64 = 0.0
    max_gal::Float64 = 0.0
    hot_water_temp_degF::Float64 = 56.0
    cool_water_temp_degF::Float64 = 44.0
    internal_efficiency_pct::Float64 = 0.999999
    soc_min_pct::Float64 = 0.1
    soc_init_pct::Float64 = 0.5
    installed_cost_per_gal::Float64 = 1.50
    thermal_decay_rate_fraction::Float64 = 0.0004
    om_cost_per_gal::Float64 = 0.0
    macrs_option_years::Int = 0
    macrs_bonus_pct::Float64 = 0.0
    macrs_itc_reduction::Float64 = 0.0
    total_itc_pct::Float64 = 0.0
    total_rebate_per_kwh::Float64 = 0.0
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/energy_storage/thermal_storage.jl#L32-L57">source</a></section></article><h2 id="DomesticHotWaterLoad"><a class="docs-heading-anchor" href="#DomesticHotWaterLoad">DomesticHotWaterLoad</a><a id="DomesticHotWaterLoad-1"></a><a class="docs-heading-anchor-permalink" href="#DomesticHotWaterLoad" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.DomesticHotWaterLoad" href="#REopt.DomesticHotWaterLoad"><code>REopt.DomesticHotWaterLoad</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DomesticHotWaterLoad</code></pre><p>There are many ways in which a DomesticHotWaterLoad can be defined:</p><ol><li>When using either <code>doe_reference_name</code> or <code>blended_doe_reference_names</code> in an <code>ElectricLoad</code> one only needs to provide the input key &quot;DomesticHotWaterLoad&quot; in the <code>Scenario</code> (JSON or Dict). In this case the values from DoE reference names from the <code>ElectricLoad</code> will be used to define the <code>DomesticHotWaterLoad</code>.</li><li>One can provide the <code>doe_reference_name</code> or <code>blended_doe_reference_names</code> directly in the <code>DomesticHotWaterLoad</code> key within the <code>Scenario</code>. These values can be combined with the <code>annual_mmbtu</code> or <code>monthly_mmbtu</code> inputs to scale the DoE reference profile(s).</li><li>One can provide the <code>fuel_loads_mmbtu_per_hour</code> value in the <code>DomesticHotWaterLoad</code> key within the <code>Scenario</code>.</li></ol><pre><code class="language-julia">function DomesticHotWaterLoad(;
    doe_reference_name::String = &quot;&quot;,
    city::String = &quot;&quot;,
    blended_doe_reference_names::Array{String, 1} = String[],
    blended_doe_reference_percents::Array{&lt;:Real,1} = Real[],
    annual_mmbtu::Union{Real, Nothing} = nothing,
    monthly_mmbtu::Array{&lt;:Real,1} = Real[],
    fuel_loads_mmbtu_per_hour::Array{&lt;:Real,1} = Real[],
    time_steps_per_hour::Int = 1,
    latitude::Real=0.0,
    longitude::Real=0.0
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/heating_cooling_loads.jl#L30-L52">source</a></section></article><h2 id="SpaceHeatingLoad"><a class="docs-heading-anchor" href="#SpaceHeatingLoad">SpaceHeatingLoad</a><a id="SpaceHeatingLoad-1"></a><a class="docs-heading-anchor-permalink" href="#SpaceHeatingLoad" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.SpaceHeatingLoad" href="#REopt.SpaceHeatingLoad"><code>REopt.SpaceHeatingLoad</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">function SpaceHeatingLoad(;
    doe_reference_name::String = &quot;&quot;,
    city::String = &quot;&quot;,
    blended_doe_reference_names::Array{String, 1} = String[],
    blended_doe_reference_percents::Array{&lt;:Real,1} = Real[],
    annual_mmbtu::Union{Real, Nothing} = nothing,
    monthly_mmbtu::Array{&lt;:Real,1} = Real[],
    fuel_loads_mmbtu_per_hour::Array{&lt;:Real,1} = Real[]
)</code></pre><p>There are many ways to define a <code>SpaceHeatingLoad</code>:</p><ol><li>a time-series via the <code>fuel_loads_mmbtu_per_hour</code>,</li><li>scaling a DoE Commercial Reference Building (CRB) profile or a blend of CRB profiles to either the <code>annual_mmbtu</code> or <code>monthly_mmbtu</code> values;</li><li>or using the <code>doe_reference_name</code> or <code>blended_doe_reference_names</code> from the <code>ElectricLoad</code>.</li></ol><p>When using an <code>ElectricLoad</code> defined from a <code>doe_reference_name</code> or <code>blended_doe_reference_names</code>  one only needs to provide an empty Dict in the scenario JSON to add a <code>SpaceHeatingLoad</code> to a  <code>Scenario</code>, i.e.:</p><pre><code class="language-json">...
&quot;ElectricLoad&quot;: {&quot;doe_reference_name&quot;: &quot;MidriseApartment&quot;},
&quot;SpaceHeatingLoad&quot; : {},
...</code></pre><p>In this case the values provided for <code>doe_reference_name</code>, or  <code>blended_doe_reference_names</code> and  <code>blended_doe_reference_percents</code> are copied from the <code>ElectricLoad</code> to the <code>SpaceHeatingLoad</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/heating_cooling_loads.jl#L103-L130">source</a></section></article><h2 id="FlexibleHVAC"><a class="docs-heading-anchor" href="#FlexibleHVAC">FlexibleHVAC</a><a id="FlexibleHVAC-1"></a><a class="docs-heading-anchor-permalink" href="#FlexibleHVAC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="REopt.FlexibleHVAC" href="#REopt.FlexibleHVAC"><code>REopt.FlexibleHVAC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FlexibleHVAC</code></pre><p>Every model with <code>FlexibleHVAC</code> includes a preprocessing step to calculate the business-as-usual (BAU) cost of meeting the thermal loads using a dead-band controller. The BAU cost is then used in the  binary decision for purchasing the <code>FlexibleHVAC</code> system: if the <code>FlexibleHVAC</code> system is purchased then the heating and cooling costs are determined by the HVAC dispatch that minimizes the lifecycle cost of energy. If the <code>FlexibleHVAC</code> system is not purchased then the BAU heating and cooling costs must be paid.</p><p>There are two construction methods for <code>FlexibleHVAC</code>, which depend on whether or not the data was  loaded in from a JSON file. The issue with data from JSON is that the vector-of-vectors from the JSON  file must be appropriately converted to Julia Matrices. When loading in a Scenario from JSON that  includes a <code>FlexibleHVAC</code> model if you include the <code>flex_hvac_from_json</code> argument to the <code>Scenario</code>  constructor then the conversion to Matrices will be done appropriately. For example:</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>At least one of the inputs for <code>temperature_upper_bound_degC</code> or <code>temperature_lower_bound_degC</code> must be provided to evaluate the <code>FlexibleHVAC</code> option. For example, if only <code>temperature_lower_bound_degC</code> is provided then only a heating system will be evaluated. Also, the heating system will only be used (or purchased) if the <code>exogenous_inputs</code> lead to the temperature at the <code>control_node</code> going below the <code>temperature_lower_bound_degC</code>.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>ExistingChiller</code> is electric and so its operating cost is determined by the <code>ElectricTariff</code>.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>ExistingBoiler</code> default operating cost is zero. Please provide the <code>fuel_cost_per_mmbtu</code> field for the <code>ExistingBoiler</code> if you want non-zero BAU heating costs. The <code>fuel_cost_per_mmbtu</code> can be a scalar, a list of 12 monthly values, or a time series of values for every time step.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/flexible_hvac.jl#L40-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="REopt.FlexibleHVAC-Tuple{}" href="#REopt.FlexibleHVAC-Tuple{}"><code>REopt.FlexibleHVAC</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function FlexibleHVAC(;
    system_matrix::AbstractMatrix,
    input_matrix::AbstractMatrix,
    exogenous_inputs::AbstractMatrix,
    control_node::Int64,
    initial_temperatures::AbstractVector,
    temperature_upper_bound_degC::Union{Real, Nothing} = nothing,
    temperature_lower_bound_degC::Union{Real, Nothing} = nothing,
    installed_cost::Float64
)</code></pre><p>When the A, B, and u values are in Matrix format (note u is normally a vector but in our case it has a time index in the second dimension)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/flexible_hvac.jl#L183-L196">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="REopt.FlexibleHVAC-Tuple{Dict}" href="#REopt.FlexibleHVAC-Tuple{Dict}"><code>REopt.FlexibleHVAC</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">FlexibleHVAC(dict_from_json::Dict)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/NREL/REopt.jl/blob/b90925fe484d1ea34d8dc6e2aeb45d576e537e62/src/core/flexible_hvac.jl#L146-L150">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><a class="docs-footer-nextpage" href="../outputs/">Outputs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 3 May 2022 19:59">Tuesday 3 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
